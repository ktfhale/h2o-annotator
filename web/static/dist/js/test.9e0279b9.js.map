{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/drag-mock/index.js","webpack:///./frontend/pages/test.js","webpack:///./node_modules/drag-mock/src/index.js","webpack:///./node_modules/drag-mock/src/DataTransfer.js","webpack:///./node_modules/drag-mock/src/eventFactory.js","webpack:///./node_modules/drag-mock/src/DragDropAction.js","webpack:///./node_modules/drag-mock/node-src/webdriverBridge.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","dragMock","webdriverBridge","extendWebdriver","webdriver","init","loadLibrary","done","window","DragDropAction","instance","methodName","args","apply","dragStart","targetElement","eventProperties","configCallback","arguments","dragEnter","dragOver","dragLeave","drop","delay","DataTransfer","eventFactory","removeFromArray","array","item","index","indexOf","splice","this","dataByFormat","dropEffect","effectAllowed","files","types","clearData","dataFormat","getData","setData","data","push","setDragImage","dataTransferEvents","mergeInto","destObj","srcObj","createModernEvent","eventName","eventType","constructor","options","view","bubbles","cancelable","event","createLegacyEvent","document","createEvent","initEvent","initCustomEvent","error","EventFactory","dataTransfer","match","_noop","parseParams","Error","customizeEvent","isPrimaryEvent","length","type","createAndDispatchEvents","eventNames","primaryEventName","forEach","dispatchEvent","lastDragSource","lastDataTransfer","pendingActionsQueue","_queue","fn","_queueExecuteNext","self","firstPendingAction","doneCallback","shift","params","events","overElement","eventsOnDropTarget","eventsOnDragSource","then","callback","waitingTimeMs","setTimeout","fs","EXPORT_METHODS","WEBDRIVER_ASYNC_EXEC_TIMEOUT","nextClientActionId","webdriverExecuteAsync","script","parameters","parameterAssignments","paramName","paramValue","JSON","stringify","scriptBody","timeoutsAsyncScript","executeAsync","Function","output","DragMockClientActionBridge","actionId","extendWebdriverPrototype","webdriverPrototype","createActionAndCallMethod","clientAction","extendWebdriverFactory","originalMethod","remote","Array","slice","pop","browserScript","findElement","selector","result","stringStartsWithOneOf","evaluate","XPathResult","FIRST_ORDERED_NODE_TYPE","singleNodeValue","querySelector","string","prefixArray","some","prefix","_dragMockActions","action","err","version","dragMockLib","readFileSync","__dirname","encoding","execute"],"mappings":"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","file":"js/test.9e0279b9.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","\nvar dragMock = require('./src')\n  , webdriverBridge = require('./node-src/webdriverBridge');\n\n\n/**\n * Extends the webdriver.io factory or instance with dragStart() & drop() methods.\n * @param {object}    webdriver\n */\ndragMock.extendWebdriver = function(webdriver) {\n  return webdriverBridge.init(webdriver);\n};\n\n/**\n * Loads the library into a browser context using a webdriver.io instance.\n * @param {object}    webdriver\n * @param {function}  [done]      Optional callback: done({object|null} error)\n */\ndragMock.loadLibrary = function(webdriver, done) {\n  return webdriverBridge.loadLibrary(webdriver, done);\n};\n\n\nmodule.exports = dragMock;\n","import dragMock from 'drag-mock';\nwindow.dragMock = dragMock;\n","\nvar DragDropAction = require('./DragDropAction');\n\n\nfunction call(instance, methodName, args) {\n  return instance[methodName].apply(instance, args);\n}\n\n\nvar dragMock = {\n  dragStart: function(targetElement, eventProperties, configCallback) {\n    return call(new DragDropAction(), 'dragStart', arguments);\n  },\n  dragEnter: function(targetElement, eventProperties, configCallback) {\n    return call(new DragDropAction(), 'dragEnter', arguments);\n  },\n  dragOver: function(targetElement, eventProperties, configCallback) {\n    return call(new DragDropAction(), 'dragOver', arguments);\n  },\n  dragLeave: function(targetElement, eventProperties, configCallback) {\n    return call(new DragDropAction(), 'dragLeave', arguments);\n  },\n  drop: function(targetElement, eventProperties, configCallback) {\n    return call(new DragDropAction(), 'drop', arguments);\n  },\n  delay: function(targetElement, eventProperties, configCallback) {\n    return call(new DragDropAction(), 'delay', arguments);\n  },\n\n  // Just for unit testing:\n  DataTransfer: require('./DataTransfer'),\n  DragDropAction: require('./DragDropAction'),\n  eventFactory: require('./eventFactory')\n};\n\nmodule.exports = dragMock;\n","\nfunction removeFromArray(array, item) {\n  var index = array.indexOf(item);\n\n  if (index >= 0) {\n    array.splice(index, 1);\n  }\n}\n\n\nvar DataTransfer = function() {\n  this.dataByFormat = {};\n\n  this.dropEffect = 'none';\n  this.effectAllowed = 'all';\n  this.files = [];\n  this.types = [];\n};\n\nDataTransfer.prototype.clearData = function(dataFormat) {\n  if (dataFormat) {\n    delete this.dataByFormat[dataFormat];\n    removeFromArray(this.types, dataFormat);\n  } else {\n    this.dataByFormat = {};\n    this.types = [];\n  }\n};\n\nDataTransfer.prototype.getData = function(dataFormat) {\n  return this.dataByFormat[dataFormat];\n};\n\nDataTransfer.prototype.setData = function(dataFormat, data) {\n  this.dataByFormat[dataFormat] = data;\n\n  if (this.types.indexOf(dataFormat) < 0) {\n    this.types.push(dataFormat);\n  }\n\n  return true;\n};\n\nDataTransfer.prototype.setDragImage = function() {\n  // don't do anything (the stub just makes sure there is no error thrown if someone tries to call the method)\n};\n\nmodule.exports = DataTransfer;\n","\nvar DataTransfer = require('./DataTransfer');\n\nvar dataTransferEvents = ['drag', 'dragstart', 'dragenter', 'dragover', 'dragend', 'drop', 'dragleave'];\n\n\nfunction mergeInto(destObj, srcObj) {\n  for (var key in srcObj) {\n    if (!srcObj.hasOwnProperty(key)) { continue; }   // ignore inherited properties\n\n    destObj[key] = srcObj[key];\n  }\n\n  return destObj;\n}\n\n\nfunction createModernEvent(eventName, eventType, eventProperties) {\n  if (eventType === 'DragEvent') { eventType = 'CustomEvent'; }     // Firefox fix (since FF does not allow us to override dataTransfer)\n\n  var constructor = window[eventType];\n  var options = { view: window, bubbles: true, cancelable: true };\n\n  mergeInto(options, eventProperties);\n\n  var event = new constructor(eventName, options);\n\n  mergeInto(event, eventProperties);\n\n  return event;\n}\n\n\nfunction createLegacyEvent(eventName, eventType, eventProperties) {\n  var event;\n\n  switch (eventType) {\n    case 'MouseEvent':\n      event = document.createEvent('MouseEvent');\n      event.initEvent(eventName, true, true);\n      break;\n\n    default:\n      event = document.createEvent('CustomEvent');\n      event.initCustomEvent(eventName, true, true, 0);\n  }\n\n  // copy eventProperties into event\n  if (eventProperties) {\n    mergeInto(event, eventProperties);\n  }\n\n  return event;\n}\n\n\nfunction createEvent(eventName, eventType, eventProperties) {\n  try {\n    return createModernEvent(eventName, eventType, eventProperties);\n  } catch (error) {\n    return createLegacyEvent(eventName, eventType, eventProperties);\n  }\n}\n\n\nvar EventFactory = {\n  createEvent: function(eventName, eventProperties, dataTransfer) {\n    var eventType = 'CustomEvent';\n\n    if (eventName.match(/^mouse/)) {\n      eventType = 'MouseEvent';\n    }\n\n    var event = createEvent(eventName, eventType, eventProperties);\n\n    if (dataTransferEvents.indexOf(eventName) > -1) {\n      event.dataTransfer = dataTransfer || new DataTransfer();\n    }\n\n    return event;\n  }\n};\n\nmodule.exports = EventFactory;\n","\nvar eventFactory = require('./eventFactory')\n  , DataTransfer = require('./DataTransfer');\n\n\nfunction _noop() {}\n\n\nfunction parseParams(targetElement, eventProperties, configCallback) {\n  if (typeof eventProperties === 'function') {\n    configCallback = eventProperties;\n    eventProperties = null;\n  }\n\n  if (!targetElement || typeof targetElement !== 'object') {\n    throw new Error('Expected first parameter to be a targetElement. Instead got: ' + targetElement);\n  }\n\n  return {\n    targetElement: targetElement,\n    eventProperties: eventProperties || {},\n    configCallback: configCallback || _noop\n  };\n}\n\n\nfunction customizeEvent(event, configCallback, isPrimaryEvent) {\n  if (configCallback) {\n    // call configCallback only for the primary event if the callback takes less than two arguments\n    if (configCallback.length < 2) {\n      if (isPrimaryEvent) { configCallback(event); }\n    }\n    // call configCallback for each event if the callback takes two arguments\n    else {\n      configCallback(event, event.type);\n    }\n  }\n}\n\n\nfunction createAndDispatchEvents(targetElement, eventNames, primaryEventName, dataTransfer, eventProperties, configCallback) {\n  eventNames.forEach(function(eventName) {\n    var event = eventFactory.createEvent(eventName, eventProperties, dataTransfer);\n    var isPrimaryEvent = eventName === primaryEventName;\n\n    customizeEvent(event, configCallback, isPrimaryEvent);\n\n    targetElement.dispatchEvent(event);\n  });\n}\n\n\nvar DragDropAction = function() {\n  this.lastDragSource = null;\n  this.lastDataTransfer = null;\n  this.pendingActionsQueue = [];\n};\n\n\nDragDropAction.prototype._queue = function(fn) {\n  this.pendingActionsQueue.push(fn);\n\n  if (this.pendingActionsQueue.length === 1) {\n    this._queueExecuteNext();\n  }\n};\n\nDragDropAction.prototype._queueExecuteNext = function() {\n  if (this.pendingActionsQueue.length === 0) { return; }\n\n  var self = this;\n  var firstPendingAction = this.pendingActionsQueue[0];\n\n  var doneCallback = function() {\n    self.pendingActionsQueue.shift();\n    self._queueExecuteNext();\n  };\n\n  if (firstPendingAction.length === 0) {\n    firstPendingAction.call(this);\n    doneCallback();\n  } else {\n    firstPendingAction.call(this, doneCallback);\n  }\n};\n\n\nDragDropAction.prototype.dragStart = function(targetElement, eventProperties, configCallback) {\n  var params = parseParams(targetElement, eventProperties, configCallback)\n    , events = ['mousedown', 'dragstart', 'drag']\n    , dataTransfer = new DataTransfer();\n\n  this._queue(function() {\n    createAndDispatchEvents(params.targetElement, events, 'drag', dataTransfer, params.eventProperties, params.configCallback);\n\n    this.lastDragSource = targetElement;\n    this.lastDataTransfer = dataTransfer;\n  });\n\n  return this;\n};\n\n\nDragDropAction.prototype.dragEnter = function(overElement, eventProperties, configCallback) {\n  var params = parseParams(overElement, eventProperties, configCallback)\n    , events = ['mousemove', 'mouseover', 'dragenter'];\n\n  this._queue(function() {\n    createAndDispatchEvents(params.targetElement, events, 'dragenter', this.lastDataTransfer, params.eventProperties, params.configCallback);\n  });\n\n  return this;\n};\n\nDragDropAction.prototype.dragOver = function(overElement, eventProperties, configCallback) {\n  var params = parseParams(overElement, eventProperties, configCallback)\n    , events = ['mousemove', 'mouseover', 'dragover'];\n\n  this._queue(function() {\n    createAndDispatchEvents(params.targetElement, events, 'drag', this.lastDataTransfer, params.eventProperties, params.configCallback);\n  });\n\n  return this;\n};\n\nDragDropAction.prototype.dragLeave = function(overElement, eventProperties, configCallback) {\n  var params = parseParams(overElement, eventProperties, configCallback)\n    , events = ['mousemove', 'mouseover', 'dragleave'];\n\n  this._queue(function() {\n    createAndDispatchEvents(params.targetElement, events, 'dragleave', this.lastDataTransfer, params.eventProperties, params.configCallback);\n  });\n\n  return this;\n};\n\nDragDropAction.prototype.drop = function(targetElement, eventProperties, configCallback) {\n  var params = parseParams(targetElement, eventProperties, configCallback);\n  var eventsOnDropTarget = ['mousemove', 'mouseup', 'drop'];\n  var eventsOnDragSource = ['dragend'];\n\n  this._queue(function() {\n    createAndDispatchEvents(params.targetElement, eventsOnDropTarget, 'drop', this.lastDataTransfer, params.eventProperties, params.configCallback);\n\n    if (this.lastDragSource) {\n      // trigger dragend event on last drag source element\n      createAndDispatchEvents(this.lastDragSource, eventsOnDragSource, 'drop', this.lastDataTransfer, params.eventProperties, params.configCallback);\n    }\n  });\n\n  return this;\n};\n\nDragDropAction.prototype.then = function(callback) {\n  this._queue(function() { callback.call(this); });    // make sure _queue() is given a callback with no arguments\n\n  return this;\n};\n\nDragDropAction.prototype.delay = function(waitingTimeMs) {\n  this._queue(function(done) {\n    window.setTimeout(done, waitingTimeMs);\n  });\n\n  return this;\n};\n\nmodule.exports = DragDropAction;\n","\nvar fs = require('fs');\n\n\nvar EXPORT_METHODS = ['dragStart', 'dragEnter', 'dragOver', 'dragLeave', 'drop', 'delay'];\nvar WEBDRIVER_ASYNC_EXEC_TIMEOUT = 2000;\n\nvar nextClientActionId = 1;\n\n\n// using this ugly hack, since selenium seems to not pass arguments given to the execute() method\nfunction webdriverExecuteAsync(self, script, parameters, callback) {\n  var parameterAssignments = '';\n\n  for (var paramName in parameters) {\n    var paramValue = parameters[paramName];\n    parameterAssignments += 'var ' + paramName + ' = ' + JSON.stringify(paramValue) + ';';\n  }\n\n  var scriptBody =\n    parameterAssignments +\n    'return (' +\n    script +\n    ')(done);';\n\n  self.webdriver\n    .timeoutsAsyncScript(WEBDRIVER_ASYNC_EXEC_TIMEOUT)\n    .executeAsync(new Function('done', scriptBody))\n    .then(function(output) {\n        callback(output)\n    })\n}\n\n\nvar DragMockClientActionBridge = function(webdriver, actionId) {\n  this.webdriver = webdriver;\n  this.actionId = actionId;\n};\n\n\nEXPORT_METHODS.forEach(function(methodName) {\n  DragMockClientActionBridge.prototype[methodName] = function() {\n    var self = this;\n\n    var args = Array.prototype.slice.call(arguments);\n    var callback = function () {};\n\n    if (typeof args[args.length - 1] === 'function') {\n      callback = args.pop();\n    }\n\n    var browserScript = function(done) {\n\n      var findElement = function(selector) {\n        var result;\n        if (stringStartsWithOneOf(selector, ['/', '(', '../', './', '*/'])) {\n          result = document\n            .evaluate(selector, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null)\n            .singleNodeValue;\n        } else {\n          result = document.querySelector(selector);\n        }\n        if (!result) {\n          throw new Error('Cannot find element with selector: \"' + selector + '\"');\n        }\n        return result;\n      };\n\n      var stringStartsWithOneOf = function(string, prefixArray) {\n        return prefixArray.some(function(prefix) {\n          return string.indexOf(prefix) === 0;\n        });\n      };\n\n      // executed in browser context\n      window._dragMockActions = window._dragMockActions || {};\n      var action = window._dragMockActions[actionId] || dragMock;\n\n      if (stringStartsWithOneOf(methodName, ['drag', 'drop'])) {\n        // first argument is element selector\n        args[0] = findElement(args[0]);\n      }\n      action = action[methodName].apply(action, args);\n\n      window._dragMockActions[actionId] = action;\n      action.then(done);\n    };\n\n    var parameters = {\n      methodName: methodName,\n      actionId: self.actionId,\n      args: args\n    };\n\n    webdriverExecuteAsync(self, browserScript, parameters, function(err) {\n      // back in node.js context\n      callback(err, self);\n    });\n\n    return self;\n  };\n});\n\n\nfunction extendWebdriverPrototype(webdriverPrototype) {\n  function createActionAndCallMethod(methodName) {\n    return function() {\n      var clientAction = new DragMockClientActionBridge(this, nextClientActionId++);\n\n      clientAction[methodName].apply(clientAction, arguments);\n\n      return clientAction;\n    };\n  }\n\n  EXPORT_METHODS.forEach(function(methodName) {\n    webdriverPrototype[methodName] = createActionAndCallMethod(methodName);\n  });\n}\n\nfunction extendWebdriverFactory(webdriver) {\n  var originalMethod = webdriver.remote;\n\n  webdriver.remote = function() {\n    var instance = originalMethod.apply(webdriver, arguments);\n\n    extendWebdriverPrototype(instance.constructor.prototype);\n    return instance;\n  }\n}\n\n\nvar webdriverBridge = {\n\n  init: function(webdriver) {\n    if (webdriver.version && webdriver.remote) {\n      extendWebdriverFactory(webdriver);\n    } else {\n      extendWebdriverPrototype(webdriver.constructor.prototype);\n    }\n  },\n\n  loadLibrary: function(webdriver, done) {\n    var dragMockLib = fs.readFileSync(__dirname + '/../dist/drag-mock.js', { encoding: 'utf-8' });\n\n    webdriver.execute(dragMockLib, function (error) {\n      if (typeof done === 'function') { done(error); }\n    });\n  }\n\n};\n\nmodule.exports = webdriverBridge;\n"],"sourceRoot":""}